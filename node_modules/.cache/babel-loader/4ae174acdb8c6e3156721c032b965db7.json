{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TsJestTransformer = exports.CACHE_KEY_EL_SEPARATOR = void 0;\nvar fs_1 = require(\"fs\");\nvar path_1 = __importDefault(require(\"path\"));\nvar compiler_1 = require(\"./compiler\");\nvar config_1 = require(\"./config\");\nvar constants_1 = require(\"./constants\");\nvar utils_1 = require(\"./utils\");\nvar importer_1 = require(\"./utils/importer\");\nvar messages_1 = require(\"./utils/messages\");\nvar sha1_1 = require(\"./utils/sha1\");\nvar version_checkers_1 = require(\"./utils/version-checkers\");\nexports.CACHE_KEY_EL_SEPARATOR = '\\x00';\nvar TsJestTransformer = function () {\n  function TsJestTransformer() {\n    this._depGraphs = new Map();\n    this._watchMode = false;\n    this._logger = utils_1.rootLogger.child({\n      namespace: 'ts-jest-transformer'\n    });\n    version_checkers_1.VersionCheckers.jest.warn();\n    this.getCacheKey = this.getCacheKey.bind(this);\n    this.getCacheKeyAsync = this.getCacheKeyAsync.bind(this);\n    this.process = this.process.bind(this);\n    this.processAsync = this.processAsync.bind(this);\n    this._logger.debug('created new transformer');\n    process.env.TS_JEST = '1';\n  }\n  TsJestTransformer.prototype._configsFor = function (transformOptions) {\n    var config = transformOptions.config,\n      cacheFS = transformOptions.cacheFS;\n    var ccs = TsJestTransformer._cachedConfigSets.find(function (cs) {\n      return cs.jestConfig.value === config;\n    });\n    var configSet;\n    if (ccs) {\n      this._transformCfgStr = ccs.transformerCfgStr;\n      this._compiler = ccs.compiler;\n      this._depGraphs = ccs.depGraphs;\n      this._tsResolvedModulesCachePath = ccs.tsResolvedModulesCachePath;\n      this._watchMode = ccs.watchMode;\n      configSet = ccs.configSet;\n    } else {\n      var serializedJestCfg_1 = (0, utils_1.stringify)(config);\n      var serializedCcs = TsJestTransformer._cachedConfigSets.find(function (cs) {\n        return cs.jestConfig.serialized === serializedJestCfg_1;\n      });\n      if (serializedCcs) {\n        serializedCcs.jestConfig.value = config;\n        this._transformCfgStr = serializedCcs.transformerCfgStr;\n        this._compiler = serializedCcs.compiler;\n        this._depGraphs = serializedCcs.depGraphs;\n        this._tsResolvedModulesCachePath = serializedCcs.tsResolvedModulesCachePath;\n        this._watchMode = serializedCcs.watchMode;\n        configSet = serializedCcs.configSet;\n      } else {\n        this._logger.info('no matching config-set found, creating a new one');\n        configSet = this._createConfigSet(config);\n        var jest_1 = __assign({}, config);\n        jest_1.name = undefined;\n        jest_1.cacheDirectory = undefined;\n        this._transformCfgStr = \"\".concat(new utils_1.JsonableValue(jest_1).serialized).concat(configSet.cacheSuffix);\n        this._createCompiler(configSet, cacheFS);\n        this._getFsCachedResolvedModules(configSet);\n        this._watchMode = process.argv.includes('--watch');\n        TsJestTransformer._cachedConfigSets.push({\n          jestConfig: new utils_1.JsonableValue(config),\n          configSet: configSet,\n          transformerCfgStr: this._transformCfgStr,\n          compiler: this._compiler,\n          depGraphs: this._depGraphs,\n          tsResolvedModulesCachePath: this._tsResolvedModulesCachePath,\n          watchMode: this._watchMode\n        });\n      }\n    }\n    return configSet;\n  };\n  TsJestTransformer.prototype._createConfigSet = function (config) {\n    return new config_1.ConfigSet(config);\n  };\n  TsJestTransformer.prototype._createCompiler = function (configSet, cacheFS) {\n    this._compiler = new compiler_1.TsJestCompiler(configSet, cacheFS);\n  };\n  TsJestTransformer.prototype.process = function (fileContent, filePath, transformOptions) {\n    this._logger.debug({\n      fileName: filePath,\n      transformOptions: transformOptions\n    }, 'processing', filePath);\n    var result;\n    var configs = this._configsFor(transformOptions);\n    var shouldStringifyContent = configs.shouldStringifyContent(filePath);\n    var babelJest = shouldStringifyContent ? undefined : configs.babelJestTransformer;\n    var isDefinitionFile = filePath.endsWith(constants_1.DECLARATION_TYPE_EXT);\n    var isJsFile = constants_1.JS_JSX_REGEX.test(filePath);\n    var isTsFile = !isDefinitionFile && constants_1.TS_TSX_REGEX.test(filePath);\n    var hooksFile = process.env.TS_JEST_HOOKS;\n    var hooks;\n    if (hooksFile) {\n      hooksFile = path_1.default.resolve(configs.cwd, hooksFile);\n      hooks = importer_1.importer.tryTheseOr(hooksFile, {});\n    }\n    if (shouldStringifyContent) {\n      result = \"module.exports=\".concat((0, utils_1.stringify)(fileContent));\n    } else if (isDefinitionFile) {\n      result = '';\n    } else if (!configs.parsedTsConfig.options.allowJs && isJsFile) {\n      this._logger.warn({\n        fileName: filePath\n      }, (0, messages_1.interpolate)(\"Got a `.js` file to compile while `allowJs` option is not set to `true` (file: {{path}}). To fix this:\\n  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)\\n  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore\", {\n        path: filePath\n      }));\n      result = fileContent;\n    } else if (isJsFile || isTsFile) {\n      result = this._compiler.getCompiledOutput(fileContent, filePath, {\n        depGraphs: this._depGraphs,\n        supportsStaticESM: transformOptions.supportsStaticESM,\n        watchMode: this._watchMode\n      });\n    } else {\n      var message = babelJest ? \"Got a unknown file type to compile (file: {{path}}). To fix this, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match this kind of files anymore. If you still want Babel to process it, add another entry to the `transform` option with value `babel-jest` which key matches this type of files.\" : \"Got a unknown file type to compile (file: {{path}}). To fix this, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match this kind of files anymore.\";\n      this._logger.warn({\n        fileName: filePath\n      }, (0, messages_1.interpolate)(message, {\n        path: filePath\n      }));\n      result = fileContent;\n    }\n    if (babelJest) {\n      this._logger.debug({\n        fileName: filePath\n      }, 'calling babel-jest processor');\n      result = babelJest.process(result, filePath, __assign(__assign({}, transformOptions), {\n        instrument: false\n      }));\n    }\n    if (hooks === null || hooks === void 0 ? void 0 : hooks.afterProcess) {\n      this._logger.debug({\n        fileName: filePath,\n        hookName: 'afterProcess'\n      }, 'calling afterProcess hook');\n      var newResult = hooks.afterProcess([fileContent, filePath, transformOptions.config, transformOptions], result);\n      if (newResult) {\n        return newResult;\n      }\n    }\n    return result;\n  };\n  TsJestTransformer.prototype.processAsync = function (sourceText, sourcePath, transformOptions) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _this = this;\n      return __generator(this, function (_a) {\n        return [2, new Promise(function (resolve) {\n          return resolve(_this.process(sourceText, sourcePath, transformOptions));\n        })];\n      });\n    });\n  };\n  TsJestTransformer.prototype.getCacheKey = function (fileContent, filePath, transformOptions) {\n    var _a;\n    var configs = this._configsFor(transformOptions);\n    this._logger.debug({\n      fileName: filePath,\n      transformOptions: transformOptions\n    }, 'computing cache key for', filePath);\n    var _b = transformOptions.instrument,\n      instrument = _b === void 0 ? false : _b;\n    var constructingCacheKeyElements = [this._transformCfgStr, exports.CACHE_KEY_EL_SEPARATOR, configs.rootDir, exports.CACHE_KEY_EL_SEPARATOR, \"instrument:\".concat(instrument ? 'on' : 'off'), exports.CACHE_KEY_EL_SEPARATOR, fileContent, exports.CACHE_KEY_EL_SEPARATOR, filePath];\n    if (!configs.isolatedModules && this._tsResolvedModulesCachePath) {\n      var resolvedModuleNames = void 0;\n      if (((_a = this._depGraphs.get(filePath)) === null || _a === void 0 ? void 0 : _a.fileContent) === fileContent) {\n        this._logger.debug({\n          fileName: filePath,\n          transformOptions: transformOptions\n        }, 'getting resolved modules from disk caching or memory caching for', filePath);\n        resolvedModuleNames = this._depGraphs.get(filePath).resolvedModuleNames.filter(function (moduleName) {\n          return (0, fs_1.existsSync)(moduleName);\n        });\n      } else {\n        this._logger.debug({\n          fileName: filePath,\n          transformOptions: transformOptions\n        }, 'getting resolved modules from TypeScript API for', filePath);\n        resolvedModuleNames = this._compiler.getResolvedModules(fileContent, filePath, transformOptions.cacheFS);\n        this._depGraphs.set(filePath, {\n          fileContent: fileContent,\n          resolvedModuleNames: resolvedModuleNames\n        });\n        (0, fs_1.writeFileSync)(this._tsResolvedModulesCachePath, (0, utils_1.stringify)(__spreadArray([], __read(this._depGraphs), false)));\n      }\n      resolvedModuleNames.forEach(function (moduleName) {\n        constructingCacheKeyElements.push(exports.CACHE_KEY_EL_SEPARATOR, moduleName, exports.CACHE_KEY_EL_SEPARATOR, (0, fs_1.statSync)(moduleName).mtimeMs.toString());\n      });\n    }\n    return sha1_1.sha1.apply(void 0, __spreadArray([], __read(constructingCacheKeyElements), false));\n  };\n  TsJestTransformer.prototype.getCacheKeyAsync = function (sourceText, sourcePath, transformOptions) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _this = this;\n      return __generator(this, function (_a) {\n        return [2, new Promise(function (resolve) {\n          return resolve(_this.getCacheKey(sourceText, sourcePath, transformOptions));\n        })];\n      });\n    });\n  };\n  TsJestTransformer.prototype._getFsCachedResolvedModules = function (configSet) {\n    var cacheDir = configSet.tsCacheDir;\n    if (!configSet.isolatedModules && cacheDir) {\n      (0, fs_1.mkdirSync)(cacheDir, {\n        recursive: true\n      });\n      this._tsResolvedModulesCachePath = path_1.default.join(cacheDir, (0, sha1_1.sha1)('ts-jest-resolved-modules', exports.CACHE_KEY_EL_SEPARATOR));\n      try {\n        var cachedTSResolvedModules = (0, fs_1.readFileSync)(this._tsResolvedModulesCachePath, 'utf-8');\n        this._depGraphs = new Map((0, utils_1.parse)(cachedTSResolvedModules));\n      } catch (e) {}\n    }\n  };\n  TsJestTransformer._cachedConfigSets = [];\n  return TsJestTransformer;\n}();\nexports.TsJestTransformer = TsJestTransformer;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","push","__read","o","m","r","ar","error","__spreadArray","to","from","pack","l","Array","slice","concat","__importDefault","mod","__esModule","defineProperty","exports","TsJestTransformer","CACHE_KEY_EL_SEPARATOR","fs_1","require","path_1","compiler_1","config_1","constants_1","utils_1","importer_1","messages_1","sha1_1","version_checkers_1","_depGraphs","Map","_watchMode","_logger","rootLogger","child","namespace","VersionCheckers","jest","warn","getCacheKey","bind","getCacheKeyAsync","process","processAsync","debug","env","TS_JEST","_configsFor","transformOptions","config","cacheFS","ccs","_cachedConfigSets","find","cs","jestConfig","configSet","_transformCfgStr","transformerCfgStr","_compiler","compiler","depGraphs","_tsResolvedModulesCachePath","tsResolvedModulesCachePath","watchMode","serializedJestCfg_1","stringify","serializedCcs","serialized","info","_createConfigSet","jest_1","name","undefined","cacheDirectory","JsonableValue","cacheSuffix","_createCompiler","_getFsCachedResolvedModules","argv","includes","ConfigSet","TsJestCompiler","fileContent","filePath","fileName","configs","shouldStringifyContent","babelJest","babelJestTransformer","isDefinitionFile","endsWith","DECLARATION_TYPE_EXT","isJsFile","JS_JSX_REGEX","test","isTsFile","TS_TSX_REGEX","hooksFile","TS_JEST_HOOKS","hooks","default","cwd","importer","tryTheseOr","parsedTsConfig","options","allowJs","interpolate","path","getCompiledOutput","supportsStaticESM","message","instrument","afterProcess","hookName","newResult","sourceText","sourcePath","_this","_a","_b","constructingCacheKeyElements","rootDir","isolatedModules","resolvedModuleNames","get","filter","moduleName","existsSync","getResolvedModules","set","writeFileSync","forEach","statSync","mtimeMs","toString","sha1","cacheDir","tsCacheDir","mkdirSync","recursive","join","cachedTSResolvedModules","readFileSync","parse"],"sources":["/Users/ujjvalsharma/Desktop/sde-final-project/Tuiter-Project-React/node_modules/ts-jest/dist/ts-jest-transformer.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TsJestTransformer = exports.CACHE_KEY_EL_SEPARATOR = void 0;\nvar fs_1 = require(\"fs\");\nvar path_1 = __importDefault(require(\"path\"));\nvar compiler_1 = require(\"./compiler\");\nvar config_1 = require(\"./config\");\nvar constants_1 = require(\"./constants\");\nvar utils_1 = require(\"./utils\");\nvar importer_1 = require(\"./utils/importer\");\nvar messages_1 = require(\"./utils/messages\");\nvar sha1_1 = require(\"./utils/sha1\");\nvar version_checkers_1 = require(\"./utils/version-checkers\");\nexports.CACHE_KEY_EL_SEPARATOR = '\\x00';\nvar TsJestTransformer = (function () {\n    function TsJestTransformer() {\n        this._depGraphs = new Map();\n        this._watchMode = false;\n        this._logger = utils_1.rootLogger.child({ namespace: 'ts-jest-transformer' });\n        version_checkers_1.VersionCheckers.jest.warn();\n        this.getCacheKey = this.getCacheKey.bind(this);\n        this.getCacheKeyAsync = this.getCacheKeyAsync.bind(this);\n        this.process = this.process.bind(this);\n        this.processAsync = this.processAsync.bind(this);\n        this._logger.debug('created new transformer');\n        process.env.TS_JEST = '1';\n    }\n    TsJestTransformer.prototype._configsFor = function (transformOptions) {\n        var config = transformOptions.config, cacheFS = transformOptions.cacheFS;\n        var ccs = TsJestTransformer._cachedConfigSets.find(function (cs) { return cs.jestConfig.value === config; });\n        var configSet;\n        if (ccs) {\n            this._transformCfgStr = ccs.transformerCfgStr;\n            this._compiler = ccs.compiler;\n            this._depGraphs = ccs.depGraphs;\n            this._tsResolvedModulesCachePath = ccs.tsResolvedModulesCachePath;\n            this._watchMode = ccs.watchMode;\n            configSet = ccs.configSet;\n        }\n        else {\n            var serializedJestCfg_1 = (0, utils_1.stringify)(config);\n            var serializedCcs = TsJestTransformer._cachedConfigSets.find(function (cs) { return cs.jestConfig.serialized === serializedJestCfg_1; });\n            if (serializedCcs) {\n                serializedCcs.jestConfig.value = config;\n                this._transformCfgStr = serializedCcs.transformerCfgStr;\n                this._compiler = serializedCcs.compiler;\n                this._depGraphs = serializedCcs.depGraphs;\n                this._tsResolvedModulesCachePath = serializedCcs.tsResolvedModulesCachePath;\n                this._watchMode = serializedCcs.watchMode;\n                configSet = serializedCcs.configSet;\n            }\n            else {\n                this._logger.info('no matching config-set found, creating a new one');\n                configSet = this._createConfigSet(config);\n                var jest_1 = __assign({}, config);\n                jest_1.name = undefined;\n                jest_1.cacheDirectory = undefined;\n                this._transformCfgStr = \"\".concat(new utils_1.JsonableValue(jest_1).serialized).concat(configSet.cacheSuffix);\n                this._createCompiler(configSet, cacheFS);\n                this._getFsCachedResolvedModules(configSet);\n                this._watchMode = process.argv.includes('--watch');\n                TsJestTransformer._cachedConfigSets.push({\n                    jestConfig: new utils_1.JsonableValue(config),\n                    configSet: configSet,\n                    transformerCfgStr: this._transformCfgStr,\n                    compiler: this._compiler,\n                    depGraphs: this._depGraphs,\n                    tsResolvedModulesCachePath: this._tsResolvedModulesCachePath,\n                    watchMode: this._watchMode,\n                });\n            }\n        }\n        return configSet;\n    };\n    TsJestTransformer.prototype._createConfigSet = function (config) {\n        return new config_1.ConfigSet(config);\n    };\n    TsJestTransformer.prototype._createCompiler = function (configSet, cacheFS) {\n        this._compiler = new compiler_1.TsJestCompiler(configSet, cacheFS);\n    };\n    TsJestTransformer.prototype.process = function (fileContent, filePath, transformOptions) {\n        this._logger.debug({ fileName: filePath, transformOptions: transformOptions }, 'processing', filePath);\n        var result;\n        var configs = this._configsFor(transformOptions);\n        var shouldStringifyContent = configs.shouldStringifyContent(filePath);\n        var babelJest = shouldStringifyContent ? undefined : configs.babelJestTransformer;\n        var isDefinitionFile = filePath.endsWith(constants_1.DECLARATION_TYPE_EXT);\n        var isJsFile = constants_1.JS_JSX_REGEX.test(filePath);\n        var isTsFile = !isDefinitionFile && constants_1.TS_TSX_REGEX.test(filePath);\n        var hooksFile = process.env.TS_JEST_HOOKS;\n        var hooks;\n        if (hooksFile) {\n            hooksFile = path_1.default.resolve(configs.cwd, hooksFile);\n            hooks = importer_1.importer.tryTheseOr(hooksFile, {});\n        }\n        if (shouldStringifyContent) {\n            result = \"module.exports=\".concat((0, utils_1.stringify)(fileContent));\n        }\n        else if (isDefinitionFile) {\n            result = '';\n        }\n        else if (!configs.parsedTsConfig.options.allowJs && isJsFile) {\n            this._logger.warn({ fileName: filePath }, (0, messages_1.interpolate)(\"Got a `.js` file to compile while `allowJs` option is not set to `true` (file: {{path}}). To fix this:\\n  - if you want TypeScript to process JS files, set `allowJs` to `true` in your TypeScript config (usually tsconfig.json)\\n  - if you do not want TypeScript to process your `.js` files, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match `.js` files anymore\", { path: filePath }));\n            result = fileContent;\n        }\n        else if (isJsFile || isTsFile) {\n            result = this._compiler.getCompiledOutput(fileContent, filePath, {\n                depGraphs: this._depGraphs,\n                supportsStaticESM: transformOptions.supportsStaticESM,\n                watchMode: this._watchMode,\n            });\n        }\n        else {\n            var message = babelJest ? \"Got a unknown file type to compile (file: {{path}}). To fix this, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match this kind of files anymore. If you still want Babel to process it, add another entry to the `transform` option with value `babel-jest` which key matches this type of files.\" : \"Got a unknown file type to compile (file: {{path}}). To fix this, in your Jest config change the `transform` key which value is `ts-jest` so that it does not match this kind of files anymore.\";\n            this._logger.warn({ fileName: filePath }, (0, messages_1.interpolate)(message, { path: filePath }));\n            result = fileContent;\n        }\n        if (babelJest) {\n            this._logger.debug({ fileName: filePath }, 'calling babel-jest processor');\n            result = babelJest.process(result, filePath, __assign(__assign({}, transformOptions), { instrument: false }));\n        }\n        if (hooks === null || hooks === void 0 ? void 0 : hooks.afterProcess) {\n            this._logger.debug({ fileName: filePath, hookName: 'afterProcess' }, 'calling afterProcess hook');\n            var newResult = hooks.afterProcess([fileContent, filePath, transformOptions.config, transformOptions], result);\n            if (newResult) {\n                return newResult;\n            }\n        }\n        return result;\n    };\n    TsJestTransformer.prototype.processAsync = function (sourceText, sourcePath, transformOptions) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2, new Promise(function (resolve) { return resolve(_this.process(sourceText, sourcePath, transformOptions)); })];\n            });\n        });\n    };\n    TsJestTransformer.prototype.getCacheKey = function (fileContent, filePath, transformOptions) {\n        var _a;\n        var configs = this._configsFor(transformOptions);\n        this._logger.debug({ fileName: filePath, transformOptions: transformOptions }, 'computing cache key for', filePath);\n        var _b = transformOptions.instrument, instrument = _b === void 0 ? false : _b;\n        var constructingCacheKeyElements = [\n            this._transformCfgStr,\n            exports.CACHE_KEY_EL_SEPARATOR,\n            configs.rootDir,\n            exports.CACHE_KEY_EL_SEPARATOR,\n            \"instrument:\".concat(instrument ? 'on' : 'off'),\n            exports.CACHE_KEY_EL_SEPARATOR,\n            fileContent,\n            exports.CACHE_KEY_EL_SEPARATOR,\n            filePath,\n        ];\n        if (!configs.isolatedModules && this._tsResolvedModulesCachePath) {\n            var resolvedModuleNames = void 0;\n            if (((_a = this._depGraphs.get(filePath)) === null || _a === void 0 ? void 0 : _a.fileContent) === fileContent) {\n                this._logger.debug({ fileName: filePath, transformOptions: transformOptions }, 'getting resolved modules from disk caching or memory caching for', filePath);\n                resolvedModuleNames = this._depGraphs\n                    .get(filePath)\n                    .resolvedModuleNames.filter(function (moduleName) { return (0, fs_1.existsSync)(moduleName); });\n            }\n            else {\n                this._logger.debug({ fileName: filePath, transformOptions: transformOptions }, 'getting resolved modules from TypeScript API for', filePath);\n                resolvedModuleNames = this._compiler.getResolvedModules(fileContent, filePath, transformOptions.cacheFS);\n                this._depGraphs.set(filePath, {\n                    fileContent: fileContent,\n                    resolvedModuleNames: resolvedModuleNames,\n                });\n                (0, fs_1.writeFileSync)(this._tsResolvedModulesCachePath, (0, utils_1.stringify)(__spreadArray([], __read(this._depGraphs), false)));\n            }\n            resolvedModuleNames.forEach(function (moduleName) {\n                constructingCacheKeyElements.push(exports.CACHE_KEY_EL_SEPARATOR, moduleName, exports.CACHE_KEY_EL_SEPARATOR, (0, fs_1.statSync)(moduleName).mtimeMs.toString());\n            });\n        }\n        return sha1_1.sha1.apply(void 0, __spreadArray([], __read(constructingCacheKeyElements), false));\n    };\n    TsJestTransformer.prototype.getCacheKeyAsync = function (sourceText, sourcePath, transformOptions) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2, new Promise(function (resolve) { return resolve(_this.getCacheKey(sourceText, sourcePath, transformOptions)); })];\n            });\n        });\n    };\n    TsJestTransformer.prototype._getFsCachedResolvedModules = function (configSet) {\n        var cacheDir = configSet.tsCacheDir;\n        if (!configSet.isolatedModules && cacheDir) {\n            (0, fs_1.mkdirSync)(cacheDir, { recursive: true });\n            this._tsResolvedModulesCachePath = path_1.default.join(cacheDir, (0, sha1_1.sha1)('ts-jest-resolved-modules', exports.CACHE_KEY_EL_SEPARATOR));\n            try {\n                var cachedTSResolvedModules = (0, fs_1.readFileSync)(this._tsResolvedModulesCachePath, 'utf-8');\n                this._depGraphs = new Map((0, utils_1.parse)(cachedTSResolvedModules));\n            }\n            catch (e) { }\n        }\n    };\n    TsJestTransformer._cachedConfigSets = [];\n    return TsJestTransformer;\n}());\nexports.TsJestTransformer = TsJestTransformer;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}